<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test冒險遊戲</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 10px;
            background-color: #f0f8ff; /* 淡藍色 */
        }
        .game-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        .button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 20px;
            text-align: center;
            display: inline-block;
            font-size: 16px;
            margin: 10px 0;
            cursor: pointer;
            border-radius: 5px;
        }
        .button:hover {
            background-color: #45a049;
        }
        .story-text {
            font-size: 18px;
            margin-bottom: 20px;
        }
        iframe {
            margin-top: 30px;
            width: 100%;
            max-width: 485px;
            height: 402px;
            border: none;
        }
    </style>
</head>
<body>

<div class="game-container">
    <h1>平行時空異世界</h1>
    <div id="story" class="story-text">
        歡迎來到文字冒險遊戲！<br>
        在高中度過”邊緣人”生活的遙，上課時突然跟同班同學一起被召喚到異世界。<br>
        只要從外掛技能清單中選擇喜歡的技能，神明就會賜予你──<br>
        本來應該是這樣的，但外掛技能是先搶先贏，所以強勢技能都已經被同學們拿完了！？<br>
        由於神明惱羞成怒，遙被硬塞了全部剩下的負面技能，還因為技能『邊緣人』的關係，到了異世界也只能孤單一人冒險……。<br>
        不依賴外掛，還要超越外掛── 最強”邊緣人”的異世界困難模式攻略譚，開幕！
    </div>
    <button class="button" id="btn1">左邊遠遠有一人的道路</button>
    <button class="button" id="btn2">右邊森林疑似有的道路</button>

    <h2> 無能技能 </h2>
    <iframe width="560" height="315" 
        src="https://www.youtube.com/embed/OdzHlzx5Wik" 
        frameborder="0" allowfullscreen>
    </iframe>

    <!-- 按鈕用於新增、刪除、修改選項 -->
    <div>
        <button class="button" id="addOptionButton">新增選項</button>
        <button class="button" id="removeOptionButton">刪除選項</button>
        <button class="button" id="editOptionButton">修改選項</button>
    </div>
    
</div>

<script>
    let currentStep = 0;
    let options = []; // 存儲所有選項

    // 確保從 localStorage 讀取並初始化選項
    function loadOptions() {
        const savedOptions = JSON.parse(localStorage.getItem('options'));
        if (savedOptions) {
            options = savedOptions;
        }
        updateButtons();
    }

    function updateButtons() {
        const btn1 = document.getElementById('btn1');
        const btn2 = document.getElementById('btn2');

        if (options.length > 0) {
            btn1.innerText = options[0].text;
            btn1.onclick = options[0].action;
        } else {
            btn1.innerText = '無選項';
            btn1.onclick = () => {};
        }

        if (options.length > 1) {
            btn2.innerText = options[1].text;
            btn2.onclick = options[1].action;
        } else {
            btn2.innerText = '無選項';
            btn2.onclick = () => {};
        }
    }

    function resetButtons() {
        document.getElementById('btn1').style.display = 'none';
        document.getElementById('btn2').style.display = 'none';
    }

    function startGame() {
        // 初始選項
        options = [
            { text: "左邊遠遠有一人的道路", action: leftPath },
            { text: "右邊森林疑似有的道路", action: rightPath }
        ];
        localStorage.setItem('options', JSON.stringify(options));
        updateButtons();
    }

    function leftPath() {
        currentStep = 1;
        document.getElementById('story').innerHTML = "你選擇了左邊的道路，走了幾分鐘後，你遇到了一位神秘的老人。<br>老人問你：'你是想要財富還是智慧？'";
        updateButtons();
    }

    function rightPath() {
        currentStep = 1;
        document.getElementById('story').innerHTML = "你選擇了右邊的道路，走了一會兒，你發現自己陷入了一個陷阱。<br>你想用力跳出陷阱，還是靜下心來觀察？";
        updateButtons();
    }

    // 新增選項
    document.getElementById('addOptionButton').onclick = function() {
        const newOptionText = prompt("請輸入新增選項的描述：");
        if (newOptionText) {
            const newOption = { text: newOptionText, action: newOptionAction };
            options.push(newOption);
            localStorage.setItem('options', JSON.stringify(options));
            updateButtons();
        }
    };

    // 刪除選項
    document.getElementById('removeOptionButton').onclick = function() {
        if (options.length > 2) {
            options.pop();
            localStorage.setItem('options', JSON.stringify(options));
            updateButtons();
        }
    };

    // 修改選項
    document.getElementById('editOptionButton').onclick = function() {
        if (options.length > 1) {
            const newOptionText = prompt("請輸入修改後的選項描述：");
            if (newOptionText) {
                options[0].text = newOptionText;
                localStorage.setItem('options', JSON.stringify(options));
                updateButtons();
            }
        }
    };

    // 假設的新增選項行為
    function newOptionAction() {
        alert("這是新增的選項行為！");
    }

    // 初始化遊戲
    loadOptions();
    startGame();

</script>

</body>
</html>
